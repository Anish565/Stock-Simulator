import { useState } from "react";
import { Line, LineChart, XAxis, YAxis, ResponsiveContainer, Tooltip } from "recharts";
import { format } from "date-fns";

const sampleData = {
  meta: {
    symbol: "AAPL",
    longName: "Apple Inc.",
    regularMarketPrice: 242.945,
    regularMarketDayHigh: 244.105,
    regularMarketDayLow: 241.25,
    currency: "USD",
  },
  quotes: [
    {
        "close": 89.12000274658203,
        "date": "2023-01-03T14:30:00.000Z",
        "volume": 28131200
       },
       {
        "close": 88.08000183105469,
        "date": "2023-01-04T14:30:00.000Z",
        "volume": 34854800
       },
       {
        "close": 86.19999694824219,
        "date": "2023-01-05T14:30:00.000Z",
        "volume": 27194400
       },
       {
        "close": 87.33999633789062,
        "date": "2023-01-06T14:30:00.000Z",
        "volume": 41381500
       },
       {
        "close": 88.0199966430664,
        "date": "2023-01-09T14:30:00.000Z",
        "volume": 29003900
       },
       {
        "close": 88.41999816894531,
        "date": "2023-01-10T14:30:00.000Z",
        "volume": 30467800
       },
       {
        "close": 91.5199966430664,
        "date": "2023-01-11T14:30:00.000Z",
        "volume": 26862000
       },
       {
        "close": 91.12999725341797,
        "date": "2023-01-12T14:30:00.000Z",
        "volume": 30258100
       },
       {
        "close": 92.12000274658203,
        "date": "2023-01-13T14:30:00.000Z",
        "volume": 26329200
       },
       {
        "close": 91.29000091552734,
        "date": "2023-01-17T14:30:00.000Z",
        "volume": 32602400
       },
       {
        "close": 91.12000274658203,
        "date": "2023-01-18T14:30:00.000Z",
        "volume": 29116700
       },
       {
        "close": 93.05000305175781,
        "date": "2023-01-19T14:30:00.000Z",
        "volume": 37000400
       },
       {
        "close": 98.0199966430664,
        "date": "2023-01-20T14:30:00.000Z",
        "volume": 63191100
       },
       {
        "close": 99.79000091552734,
        "date": "2023-01-23T14:30:00.000Z",
        "volume": 40005100
       },
       {
        "close": 97.69999694824219,
        "date": "2023-01-24T14:30:00.000Z",
        "volume": 33078500
       },
       {
        "close": 95.22000122070312,
        "date": "2023-01-25T14:30:00.000Z",
        "volume": 42330000
       },
       {
        "close": 97.5199966430664,
        "date": "2023-01-26T14:30:00.000Z",
        "volume": 30114000
       },
       {
        "close": 99.37000274658203,
        "date": "2023-01-27T14:30:00.000Z",
        "volume": 33879800
       },
       {
        "close": 96.94000244140625,
        "date": "2023-01-30T14:30:00.000Z",
        "volume": 27226200
       },
       {
        "close": 98.83999633789062,
        "date": "2023-01-31T14:30:00.000Z",
        "volume": 29870700
       },
       {
        "close": 100.43000030517578,
        "date": "2023-02-01T14:30:00.000Z",
        "volume": 35531100
       },
       {
        "close": 107.73999786376953,
        "date": "2023-02-02T14:30:00.000Z",
        "volume": 69883800
       },
       {
        "close": 104.77999877929688,
        "date": "2023-02-03T14:30:00.000Z",
        "volume": 65309300
       },
       {
        "close": 102.9000015258789,
        "date": "2023-02-06T14:30:00.000Z",
        "volume": 31999600
       },
       {
        "close": 107.63999938964844,
        "date": "2023-02-07T14:30:00.000Z",
        "volume": 49010200
       },
       {
        "close": 99.37000274658203,
        "date": "2023-02-08T14:30:00.000Z",
        "volume": 94743500
       },
       {
        "close": 95.01000213623047,
        "date": "2023-02-09T14:30:00.000Z",
        "volume": 119455000
       },
       {
        "close": 94.56999969482422,
        "date": "2023-02-10T14:30:00.000Z",
        "volume": 54980700
       },
       {
        "close": 94.61000061035156,
        "date": "2023-02-13T14:30:00.000Z",
        "volume": 50076100
       },
       {
        "close": 94.68000030517578,
        "date": "2023-02-14T14:30:00.000Z",
        "volume": 54726100
       },
       {
        "close": 96.94000244140625,
        "date": "2023-02-15T14:30:00.000Z",
        "volume": 50169000
       },
       {
        "close": 95.51000213623047,
        "date": "2023-02-16T14:30:00.000Z",
        "volume": 42462600
       },
       {
        "close": 94.3499984741211,
        "date": "2023-02-17T14:30:00.000Z",
        "volume": 34284100
       },
       {
        "close": 91.79000091552734,
        "date": "2023-02-21T14:30:00.000Z",
        "volume": 33629300
       },
       {
        "close": 91.6500015258789,
        "date": "2023-02-22T14:30:00.000Z",
        "volume": 30884000
       },
       {
        "close": 90.88999938964844,
        "date": "2023-02-23T14:30:00.000Z",
        "volume": 41206400
       },
       {
        "close": 89.12999725341797,
        "date": "2023-02-24T14:30:00.000Z",
        "volume": 36585100
       },
       {
        "close": 89.87000274658203,
        "date": "2023-02-27T14:30:00.000Z",
        "volume": 27502300
       },
       {
        "close": 90.05999755859375,
        "date": "2023-02-28T14:30:00.000Z",
        "volume": 30142000
       },
       {
        "close": 90.36000061035156,
        "date": "2023-03-01T14:30:00.000Z",
        "volume": 31111200
       },
       {
        "close": 92,
        "date": "2023-03-02T14:30:00.000Z",
        "volume": 32204400
       },
       {
        "close": 93.6500015258789,
        "date": "2023-03-03T14:30:00.000Z",
        "volume": 35160100
       },
       {
        "close": 95.12999725341797,
        "date": "2023-03-06T14:30:00.000Z",
        "volume": 32639300
       },
       {
        "close": 93.86000061035156,
        "date": "2023-03-07T14:30:00.000Z",
        "volume": 27835500
       },
       {
        "close": 94.25,
        "date": "2023-03-08T14:30:00.000Z",
        "volume": 34103300
       },
       {
        "close": 92.31999969482422,
        "date": "2023-03-09T14:30:00.000Z",
        "volume": 28813500
       },
       {
        "close": 90.62999725341797,
        "date": "2023-03-10T14:30:00.000Z",
        "volume": 35941000
       },
       {
        "close": 91.11000061035156,
        "date": "2023-03-13T13:30:00.000Z",
        "volume": 37335600
       },
       {
        "close": 93.97000122070312,
        "date": "2023-03-14T13:30:00.000Z",
        "volume": 36050200
       },
       {
        "close": 96.11000061035156,
        "date": "2023-03-15T13:30:00.000Z",
        "volume": 50622100
       },
       {
        "close": 100.31999969482422,
        "date": "2023-03-16T13:30:00.000Z",
        "volume": 65492000
       },
       {
        "close": 101.62000274658203,
        "date": "2023-03-17T13:30:00.000Z",
        "volume": 61028500
       },
       {
        "close": 101.22000122070312,
        "date": "2023-03-20T13:30:00.000Z",
        "volume": 32960400
       },
       {
        "close": 104.91999816894531,
        "date": "2023-03-21T13:30:00.000Z",
        "volume": 42110300
       },
       {
        "close": 103.37000274658203,
        "date": "2023-03-22T13:30:00.000Z",
        "volume": 43427400
       },
       {
        "close": 105.5999984741211,
        "date": "2023-03-23T13:30:00.000Z",
        "volume": 40797800
       },
       {
        "close": 105.44000244140625,
        "date": "2023-03-24T13:30:00.000Z",
        "volume": 30393300
       },
       {
        "close": 102.45999908447266,
        "date": "2023-03-27T13:30:00.000Z",
        "volume": 31120900
       },
       {
        "close": 101.02999877929688,
        "date": "2023-03-28T13:30:00.000Z",
        "volume": 32057900
       },
       {
        "close": 101.38999938964844,
        "date": "2023-03-29T13:30:00.000Z",
        "volume": 28779600
       },
       {
        "close": 100.88999938964844,
        "date": "2023-03-30T13:30:00.000Z",
        "volume": 33086200
       },
       {
        "close": 103.7300033569336,
        "date": "2023-03-31T13:30:00.000Z",
        "volume": 36863400
       },
       {
        "close": 104.36000061035156,
        "date": "2023-04-03T13:30:00.000Z",
        "volume": 25035400
       },
       {
        "close": 104.72000122070312,
        "date": "2023-04-04T13:30:00.000Z",
        "volume": 24420100
       },
       {
        "close": 104.47000122070312,
        "date": "2023-04-05T13:30:00.000Z",
        "volume": 28290500
       },
       {
        "close": 108.41999816894531,
        "date": "2023-04-06T13:30:00.000Z",
        "volume": 48711500
       },
       {
        "close": 106.44000244140625,
        "date": "2023-04-10T13:30:00.000Z",
        "volume": 27067400
       },
       {
        "close": 105.3499984741211,
        "date": "2023-04-11T13:30:00.000Z",
        "volume": 26311800
       },
       {
        "close": 104.63999938964844,
        "date": "2023-04-12T13:30:00.000Z",
        "volume": 24370300
       },
       {
        "close": 107.43000030517578,
        "date": "2023-04-13T13:30:00.000Z",
        "volume": 24843600
       },
       {
        "close": 108.87000274658203,
        "date": "2023-04-14T13:30:00.000Z",
        "volume": 26578000
       },
       {
        "close": 105.97000122070312,
        "date": "2023-04-17T13:30:00.000Z",
        "volume": 37571200
       },
       {
        "close": 104.5,
        "date": "2023-04-18T13:30:00.000Z",
        "volume": 26596400
       },
       {
        "close": 104.18000030517578,
        "date": "2023-04-19T13:30:00.000Z",
        "volume": 20905700
       },
       {
        "close": 105.29000091552734,
        "date": "2023-04-20T13:30:00.000Z",
        "volume": 27820800
       },
       {
        "close": 105.41000366210938,
        "date": "2023-04-21T13:30:00.000Z",
        "volume": 25800100
       },
       {
        "close": 105.97000122070312,
        "date": "2023-04-24T13:30:00.000Z",
        "volume": 23542800
       },
       {
        "close": 103.8499984741211,
        "date": "2023-04-25T13:30:00.000Z",
        "volume": 46664100
       },
       {
        "close": 103.70999908447266,
        "date": "2023-04-26T13:30:00.000Z",
        "volume": 53347600
       },
       {
        "close": 107.58999633789062,
        "date": "2023-04-27T13:30:00.000Z",
        "volume": 50089200
       },
       {
        "close": 107.33999633789062,
        "date": "2023-04-28T13:30:00.000Z",
        "volume": 36139800
       },
       {
        "close": 107.19999694824219,
        "date": "2023-05-01T13:30:00.000Z",
        "volume": 26681700
       },
       {
        "close": 105.31999969482422,
        "date": "2023-05-02T13:30:00.000Z",
        "volume": 30997200
       },
       {
        "close": 105.41000366210938,
        "date": "2023-05-03T13:30:00.000Z",
        "volume": 21795400
       },
       {
        "close": 104.69000244140625,
        "date": "2023-05-04T13:30:00.000Z",
        "volume": 23419500
       },
       {
        "close": 105.56999969482422,
        "date": "2023-05-05T13:30:00.000Z",
        "volume": 26625100
       },
       {
        "close": 107.7699966430664,
        "date": "2023-05-08T13:30:00.000Z",
        "volume": 26511400
       },
       {
        "close": 107.3499984741211,
        "date": "2023-05-09T13:30:00.000Z",
        "volume": 36360100
       },
       {
        "close": 111.75,
        "date": "2023-05-10T13:30:00.000Z",
        "volume": 63153400
       },
       {
        "close": 116.56999969482422,
        "date": "2023-05-11T13:30:00.000Z",
        "volume": 78900000
       },
       {
        "close": 117.51000213623047,
        "date": "2023-05-12T13:30:00.000Z",
        "volume": 41073800
       },
       {
        "close": 116.51000213623047,
        "date": "2023-05-15T13:30:00.000Z",
        "volume": 36266800
       },
       {
        "close": 119.51000213623047,
        "date": "2023-05-16T13:30:00.000Z",
        "volume": 45035600
       },
       {
        "close": 120.83999633789062,
        "date": "2023-05-17T13:30:00.000Z",
        "volume": 33323600
       },
       {
        "close": 122.83000183105469,
        "date": "2023-05-18T13:30:00.000Z",
        "volume": 35234200
       },
       {
        "close": 122.76000213623047,
        "date": "2023-05-19T13:30:00.000Z",
        "volume": 41330300
       },
       {
        "close": 125.05000305175781,
        "date": "2023-05-22T13:30:00.000Z",
        "volume": 35253000
       },
       {
        "close": 122.55999755859375,
        "date": "2023-05-23T13:30:00.000Z",
        "volume": 34046300
       },
       {
        "close": 120.9000015258789,
        "date": "2023-05-24T13:30:00.000Z",
        "volume": 34182600
       },
       {
        "close": 123.4800033569336,
        "date": "2023-05-25T13:30:00.000Z",
        "volume": 42317000
       },
       {
        "close": 124.61000061035156,
        "date": "2023-05-26T13:30:00.000Z",
        "volume": 35635900
       },
       {
        "close": 123.66999816894531,
        "date": "2023-05-30T13:30:00.000Z",
        "volume": 35076700
       },
       {
        "close": 122.87000274658203,
        "date": "2023-05-31T13:30:00.000Z",
        "volume": 37325800
       },
       {
        "close": 123.72000122070312,
        "date": "2023-06-01T13:30:00.000Z",
        "volume": 30772700
       },
       {
        "close": 124.66999816894531,
        "date": "2023-06-02T13:30:00.000Z",
        "volume": 26963100
       },
       {
        "close": 126.01000213623047,
        "date": "2023-06-05T13:30:00.000Z",
        "volume": 32305500
       },
       {
        "close": 127.30999755859375,
        "date": "2023-06-06T13:30:00.000Z",
        "volume": 26638300
       },
       {
        "close": 122.5,
        "date": "2023-06-07T13:30:00.000Z",
        "volume": 52539000
       },
       {
        "close": 122.13999938964844,
        "date": "2023-06-08T13:30:00.000Z",
        "volume": 29389200
       },
       {
        "close": 122.2300033569336,
        "date": "2023-06-09T13:30:00.000Z",
        "volume": 23762500
       },
       {
        "close": 123.63999938964844,
        "date": "2023-06-12T13:30:00.000Z",
        "volume": 28306400
       },
       {
        "close": 123.83000183105469,
        "date": "2023-06-13T13:30:00.000Z",
        "volume": 22278300
       },
       {
        "close": 123.66999816894531,
        "date": "2023-06-14T13:30:00.000Z",
        "volume": 30592300
       },
       {
        "close": 125.08999633789062,
        "date": "2023-06-15T13:30:00.000Z",
        "volume": 35246300
       },
       {
        "close": 123.52999877929688,
        "date": "2023-06-16T13:30:00.000Z",
        "volume": 45514000
       },
       {
        "close": 123.0999984741211,
        "date": "2023-06-20T13:30:00.000Z",
        "volume": 26097500
       },
       {
        "close": 120.55000305175781,
        "date": "2023-06-21T13:30:00.000Z",
        "volume": 30306300
       },
       {
        "close": 123.1500015258789,
        "date": "2023-06-22T13:30:00.000Z",
        "volume": 26952200
       },
       {
        "close": 122.33999633789062,
        "date": "2023-06-23T13:30:00.000Z",
        "volume": 34885300
       },
       {
        "close": 118.33999633789062,
        "date": "2023-06-26T13:30:00.000Z",
        "volume": 33969900
       },
       {
        "close": 118.33000183105469,
        "date": "2023-06-27T13:30:00.000Z",
        "volume": 39535900
       },
       {
        "close": 120.18000030517578,
        "date": "2023-06-28T13:30:00.000Z",
        "volume": 27091400
       },
       {
        "close": 119.0999984741211,
        "date": "2023-06-29T13:30:00.000Z",
        "volume": 24090900
       },
       {
        "close": 119.69999694824219,
        "date": "2023-06-30T13:30:00.000Z",
        "volume": 29519700
       },
       {
        "close": 119.9000015258789,
        "date": "2023-07-03T13:30:00.000Z",
        "volume": 14467900
       },
       {
        "close": 121.75,
        "date": "2023-07-05T13:30:00.000Z",
        "volume": 27584800
       },
       {
        "close": 120.11000061035156,
        "date": "2023-07-06T13:30:00.000Z",
        "volume": 24745200
       },
       {
        "close": 119.4800033569336,
        "date": "2023-07-07T13:30:00.000Z",
        "volume": 21692600
       },
       {
        "close": 116.44999694824219,
        "date": "2023-07-10T13:30:00.000Z",
        "volume": 35315200
       },
       {
        "close": 117.13999938964844,
        "date": "2023-07-11T13:30:00.000Z",
        "volume": 23078800
       },
       {
        "close": 118.93000030517578,
        "date": "2023-07-12T13:30:00.000Z",
        "volume": 30404400
       },
       {
        "close": 124.54000091552734,
        "date": "2023-07-13T13:30:00.000Z",
        "volume": 44297900
       },
       {
        "close": 125.41999816894531,
        "date": "2023-07-14T13:30:00.000Z",
        "volume": 33266800
       },
       {
        "close": 124.6500015258789,
        "date": "2023-07-17T13:30:00.000Z",
        "volume": 25716200
       },
       {
        "close": 123.76000213623047,
        "date": "2023-07-18T13:30:00.000Z",
        "volume": 26226400
       },
       {
        "close": 122.02999877929688,
        "date": "2023-07-19T13:30:00.000Z",
        "volume": 37224000
       },
       {
        "close": 119.19999694824219,
        "date": "2023-07-20T13:30:00.000Z",
        "volume": 37906800
       },
       {
        "close": 120.0199966430664,
        "date": "2023-07-21T13:30:00.000Z",
        "volume": 72937900
       },
       {
        "close": 121.52999877929688,
        "date": "2023-07-24T13:30:00.000Z",
        "volume": 29686100
       },
       {
        "close": 122.20999908447266,
        "date": "2023-07-25T13:30:00.000Z",
        "volume": 52509600
       },
       {
        "close": 129.27000427246094,
        "date": "2023-07-26T13:30:00.000Z",
        "volume": 61682100
       },
       {
        "close": 129.39999389648438,
        "date": "2023-07-27T13:30:00.000Z",
        "volume": 44952100
       },
       {
        "close": 132.5800018310547,
        "date": "2023-07-28T13:30:00.000Z",
        "volume": 36591200
       },
       {
        "close": 132.72000122070312,
        "date": "2023-07-31T13:30:00.000Z",
        "volume": 28055500
       },
       {
        "close": 131.5500030517578,
        "date": "2023-08-01T13:30:00.000Z",
        "volume": 23166800
       },
       {
        "close": 128.3800048828125,
        "date": "2023-08-02T13:30:00.000Z",
        "volume": 26273300
       },
       {
        "close": 128.4499969482422,
        "date": "2023-08-03T13:30:00.000Z",
        "volume": 20089500
       },
       {
        "close": 128.11000061035156,
        "date": "2023-08-04T13:30:00.000Z",
        "volume": 26130000
       },
       {
        "close": 131.52999877929688,
        "date": "2023-08-07T13:30:00.000Z",
        "volume": 22746300
       },
       {
        "close": 131.39999389648438,
        "date": "2023-08-08T13:30:00.000Z",
        "volume": 23535200
       },
       {
        "close": 129.66000366210938,
        "date": "2023-08-09T13:30:00.000Z",
        "volume": 24912900
       },
       {
        "close": 129.69000244140625,
        "date": "2023-08-10T13:30:00.000Z",
        "volume": 20857800
       },
       {
        "close": 129.55999755859375,
        "date": "2023-08-11T13:30:00.000Z",
        "volume": 19569200
       },
       {
        "close": 131.3300018310547,
        "date": "2023-08-14T13:30:00.000Z",
        "volume": 24695600
       },
       {
        "close": 129.77999877929688,
        "date": "2023-08-15T13:30:00.000Z",
        "volume": 19770700
       },
       {
        "close": 128.6999969482422,
        "date": "2023-08-16T13:30:00.000Z",
        "volume": 25216100
       },
       {
        "close": 129.9199981689453,
        "date": "2023-08-17T13:30:00.000Z",
        "volume": 33446300
       },
       {
        "close": 127.45999908447266,
        "date": "2023-08-18T13:30:00.000Z",
        "volume": 30491300
       },
       {
        "close": 128.3699951171875,
        "date": "2023-08-21T13:30:00.000Z",
        "volume": 25248700
       },
       {
        "close": 129.0800018310547,
        "date": "2023-08-22T13:30:00.000Z",
        "volume": 22067500
       },
       {
        "close": 132.3699951171875,
        "date": "2023-08-23T13:30:00.000Z",
        "volume": 27819700
       },
       {
        "close": 129.77999877929688,
        "date": "2023-08-24T13:30:00.000Z",
        "volume": 28500700
       },
       {
        "close": 129.8800048828125,
        "date": "2023-08-25T13:30:00.000Z",
        "volume": 26762900
       },
       {
        "close": 131.00999450683594,
        "date": "2023-08-28T13:30:00.000Z",
        "volume": 20543300
       },
       {
        "close": 134.57000732421875,
        "date": "2023-08-29T13:30:00.000Z",
        "volume": 43075600
       },
       {
        "close": 135.8800048828125,
        "date": "2023-08-30T13:30:00.000Z",
        "volume": 28315800
       },
       {
        "close": 136.1699981689453,
        "date": "2023-08-31T13:30:00.000Z",
        "volume": 30053800
       },
       {
        "close": 135.66000366210938,
        "date": "2023-09-01T13:30:00.000Z",
        "volume": 21524600
       },
       {
        "close": 135.77000427246094,
        "date": "2023-09-05T13:30:00.000Z",
        "volume": 19403100
       },
       {
        "close": 134.4600067138672,
        "date": "2023-09-06T13:30:00.000Z",
        "volume": 18684500
       },
       {
        "close": 135.25999450683594,
        "date": "2023-09-07T13:30:00.000Z",
        "volume": 18844300
       },
       {
        "close": 136.3800048828125,
        "date": "2023-09-08T13:30:00.000Z",
        "volume": 23558300
       },
       {
        "close": 136.9199981689453,
        "date": "2023-09-11T13:30:00.000Z",
        "volume": 20763400
       },
       {
        "close": 135.33999633789062,
        "date": "2023-09-12T13:30:00.000Z",
        "volume": 18405500
       },
       {
        "close": 136.7100067138672,
        "date": "2023-09-13T13:30:00.000Z",
        "volume": 20749500
       },
       {
        "close": 138.10000610351562,
        "date": "2023-09-14T13:30:00.000Z",
        "volume": 24751000
       },
       {
        "close": 137.39999389648438,
        "date": "2023-09-15T13:30:00.000Z",
        "volume": 38908400
       },
       {
        "close": 138.2100067138672,
        "date": "2023-09-18T13:30:00.000Z",
        "volume": 21861300
       },
       {
        "close": 138.0399932861328,
        "date": "2023-09-19T13:30:00.000Z",
        "volume": 20353700
       },
       {
        "close": 133.74000549316406,
        "date": "2023-09-20T13:30:00.000Z",
        "volume": 29927500
       },
       {
        "close": 130.44000244140625,
        "date": "2023-09-21T13:30:00.000Z",
        "volume": 31488700
       },
       {
        "close": 130.25,
        "date": "2023-09-22T13:30:00.000Z",
        "volume": 26397300
       },
       {
        "close": 131.11000061035156,
        "date": "2023-09-25T13:30:00.000Z",
        "volume": 20094600
       },
       {
        "close": 128.57000732421875,
        "date": "2023-09-26T13:30:00.000Z",
        "volume": 25718700
       },
       {
        "close": 130.5399932861328,
        "date": "2023-09-27T13:30:00.000Z",
        "volume": 22746500
       },
       {
        "close": 132.30999755859375,
        "date": "2023-09-28T13:30:00.000Z",
        "volume": 22513100
       },
       {
        "close": 130.86000061035156,
        "date": "2023-09-29T13:30:00.000Z",
        "volume": 30848100
       },
       {
        "close": 134.1699981689453,
        "date": "2023-10-02T13:30:00.000Z",
        "volume": 22288000
       },
       {
        "close": 132.42999267578125,
        "date": "2023-10-03T13:30:00.000Z",
        "volume": 22989400
       },
       {
        "close": 135.24000549316406,
        "date": "2023-10-04T13:30:00.000Z",
        "volume": 26752300
       },
       {
        "close": 135.07000732421875,
        "date": "2023-10-05T13:30:00.000Z",
        "volume": 19832600
       },
       {
        "close": 137.5800018310547,
        "date": "2023-10-06T13:30:00.000Z",
        "volume": 27583200
       },
       {
        "close": 138.4199981689453,
        "date": "2023-10-09T13:30:00.000Z",
        "volume": 19278100
       },
       {
        "close": 138.05999755859375,
        "date": "2023-10-10T13:30:00.000Z",
        "volume": 27786600
       },
       {
        "close": 140.5500030517578,
        "date": "2023-10-11T13:30:00.000Z",
        "volume": 25884300
       },
       {
        "close": 138.97000122070312,
        "date": "2023-10-12T13:30:00.000Z",
        "volume": 24765500
       },
       {
        "close": 137.36000061035156,
        "date": "2023-10-13T13:30:00.000Z",
        "volume": 23420500
       },
       {
        "close": 139.10000610351562,
        "date": "2023-10-16T13:30:00.000Z",
        "volume": 28501900
       },
       {
        "close": 139.72000122070312,
        "date": "2023-10-17T13:30:00.000Z",
        "volume": 23515800
       },
       {
        "close": 137.9600067138672,
        "date": "2023-10-18T13:30:00.000Z",
        "volume": 23375000
       },
       {
        "close": 137.75,
        "date": "2023-10-19T13:30:00.000Z",
        "volume": 26066000
       },
       {
        "close": 135.60000610351562,
        "date": "2023-10-20T13:30:00.000Z",
        "volume": 26315200
       },
       {
        "close": 136.5,
        "date": "2023-10-23T13:30:00.000Z",
        "volume": 26317900
       },
       {
        "close": 138.80999755859375,
        "date": "2023-10-24T13:30:00.000Z",
        "volume": 44814300
       },
       {
        "close": 125.61000061035156,
        "date": "2023-10-25T13:30:00.000Z",
        "volume": 84366200
       },
       {
        "close": 122.27999877929688,
        "date": "2023-10-26T13:30:00.000Z",
        "volume": 57061100
       },
       {
        "close": 122.16999816894531,
        "date": "2023-10-27T13:30:00.000Z",
        "volume": 44566500
       },
       {
        "close": 124.45999908447266,
        "date": "2023-10-30T13:30:00.000Z",
        "volume": 28940100
       },
       {
        "close": 124.08000183105469,
        "date": "2023-10-31T13:30:00.000Z",
        "volume": 26292300
       },
       {
        "close": 126.44999694824219,
        "date": "2023-11-01T13:30:00.000Z",
        "volume": 30082400
       },
       {
        "close": 127.48999786376953,
        "date": "2023-11-02T13:30:00.000Z",
        "volume": 27124600
       },
       {
        "close": 129.10000610351562,
        "date": "2023-11-03T13:30:00.000Z",
        "volume": 26380100
       },
       {
        "close": 130.25,
        "date": "2023-11-06T14:30:00.000Z",
        "volume": 19052700
       },
       {
        "close": 130.97000122070312,
        "date": "2023-11-07T14:30:00.000Z",
        "volume": 29757300
       },
       {
        "close": 131.83999633789062,
        "date": "2023-11-08T14:30:00.000Z",
        "volume": 26425800
       },
       {
        "close": 130.24000549316406,
        "date": "2023-11-09T14:30:00.000Z",
        "volume": 23747800
       },
       {
        "close": 132.58999633789062,
        "date": "2023-11-10T14:30:00.000Z",
        "volume": 26913300
       },
       {
        "close": 132.08999633789062,
        "date": "2023-11-13T14:30:00.000Z",
        "volume": 18324800
       },
       {
        "close": 133.6199951171875,
        "date": "2023-11-14T14:30:00.000Z",
        "volume": 32395200
       },
       {
        "close": 134.6199951171875,
        "date": "2023-11-15T14:30:00.000Z",
        "volume": 23861500
       },
       {
        "close": 136.92999267578125,
        "date": "2023-11-16T14:30:00.000Z",
        "volume": 28013200
       },
       {
        "close": 135.30999755859375,
        "date": "2023-11-17T14:30:00.000Z",
        "volume": 37240600
       },
       {
        "close": 136.25,
        "date": "2023-11-20T14:30:00.000Z",
        "volume": 27815500
       },
       {
        "close": 136.97000122070312,
        "date": "2023-11-21T14:30:00.000Z",
        "volume": 22635300
       },
       {
        "close": 138.49000549316406,
        "date": "2023-11-22T14:30:00.000Z",
        "volume": 17813900
       },
       {
        "close": 136.69000244140625,
        "date": "2023-11-24T14:30:00.000Z",
        "volume": 12514300
       },
       {
        "close": 136.41000366210938,
        "date": "2023-11-27T14:30:00.000Z",
        "volume": 23436500
       },
       {
        "close": 137.1999969482422,
        "date": "2023-11-28T14:30:00.000Z",
        "volume": 18730000
       },
       {
        "close": 134.99000549316406,
        "date": "2023-11-29T14:30:00.000Z",
        "volume": 23967200
       },
       {
        "close": 132.52999877929688,
        "date": "2023-11-30T14:30:00.000Z",
        "volume": 38988300
       },
       {
        "close": 131.86000061035156,
        "date": "2023-12-01T14:30:00.000Z",
        "volume": 31431200
       },
       {
        "close": 129.27000427246094,
        "date": "2023-12-04T14:30:00.000Z",
        "volume": 36669900
       },
       {
        "close": 130.99000549316406,
        "date": "2023-12-05T14:30:00.000Z",
        "volume": 27384800
       },
       {
        "close": 130.02000427246094,
        "date": "2023-12-06T14:30:00.000Z",
        "volume": 23576200
       },
       {
        "close": 136.92999267578125,
        "date": "2023-12-07T14:30:00.000Z",
        "volume": 56767100
       },
       {
        "close": 134.99000549316406,
        "date": "2023-12-08T14:30:00.000Z",
        "volume": 32233900
       },
       {
        "close": 133.2899932861328,
        "date": "2023-12-11T14:30:00.000Z",
        "volume": 31138000
       },
       {
        "close": 132.52000427246094,
        "date": "2023-12-12T14:30:00.000Z",
        "volume": 29032800
       },
       {
        "close": 132.57000732421875,
        "date": "2023-12-13T14:30:00.000Z",
        "volume": 30104800
       },
       {
        "close": 131.94000244140625,
        "date": "2023-12-14T14:30:00.000Z",
        "volume": 38722400
       },
       {
        "close": 132.60000610351562,
        "date": "2023-12-15T14:30:00.000Z",
        "volume": 50815200
       },
       {
        "close": 135.8000030517578,
        "date": "2023-12-18T14:30:00.000Z",
        "volume": 32258000
       },
       {
        "close": 136.64999389648438,
        "date": "2023-12-19T14:30:00.000Z",
        "volume": 25476800
       },
       {
        "close": 138.33999633789062,
        "date": "2023-12-20T14:30:00.000Z",
        "volume": 49107200
       },
       {
        "close": 140.4199981689453,
        "date": "2023-12-21T14:30:00.000Z",
        "volume": 27488300
       },
       {
        "close": 141.49000549316406,
        "date": "2023-12-22T14:30:00.000Z",
        "volume": 26514600
       },
       {
        "close": 141.52000427246094,
        "date": "2023-12-26T14:30:00.000Z",
        "volume": 16780300
       },
       {
        "close": 140.3699951171875,
        "date": "2023-12-27T14:30:00.000Z",
        "volume": 19628600
       },
       {
        "close": 140.22999572753906,
        "date": "2023-12-28T14:30:00.000Z",
        "volume": 16045700
       },
       {
        "close": 139.69000244140625,
        "date": "2023-12-29T14:30:00.000Z",
        "volume": 18727200
       }
  ],
};

const timeRanges = ["1D", "5D", "1M", "6M", "YTD", "1Y", "5Y", "MAX"];

const CustomTooltip = ({ active, payload }: any) => {
  if (active && payload && payload.length) {
    const data = payload[0].payload;
    return (
      <div className="rounded-lg border bg-white p-4 shadow-sm">
        <div className="font-medium">USD ${data.close.toFixed(2)}</div>
        <div className="text-sm text-gray-500">
          {format(new Date(data.date), "MMM d, yyyy")}
        </div>
        <div className="text-sm text-gray-500">Volume: {data.volume}</div>
      </div>
    );
  }
  return null;
};

interface StockVisualizationProps {
    selectedStock: {
        symbol: string;
        name: string;
    };
}

export default function StockVisualization({ selectedStock }: StockVisualizationProps) {
  const [selectedRange, setSelectedRange] = useState("1Y");
  const { meta, quotes } = sampleData;
  const currentPrice = meta.regularMarketPrice;
  const dayHigh = meta.regularMarketDayHigh;
  const dayLow = meta.regularMarketDayLow;
  const longName = selectedStock.name;

  const formatXAxis = (dateStr: string) => {
    const date = new Date(dateStr);
    return format(date, "MMM d");
  };

  return (
    <div className="w-full max-w-4xl mx-auto bg-white rounded-lg shadow-md p-6">
      {/* Header */}
      <div className="mb-6">
        <h2 className="text-4xl font-semibold">{longName}</h2>
        <div className="mt-4">
          <div className="flex items-baseline gap-3">
            <span className="text-4xl font-bold">${currentPrice.toFixed(2)}</span>
            <span className="text-gray-500">
              Day High: ${dayHigh} · Day Low: ${dayLow}
            </span>
          </div>
        </div>
        <div className="mt-4 flex flex-wrap gap-2">
          {timeRanges.map((range) => (
            <button
              key={range}
              onClick={() => setSelectedRange(range)}
              className={`px-3 py-1 rounded ${
                selectedRange === range
                  ? "bg-blue-600 text-white"
                  : "bg-gray-100 text-gray-800 hover:bg-gray-200"
              }`}
            >
              {range}
            </button>
          ))}
        </div>
      </div>

      {/* Chart */}
      <div className="h-[400px]">
        <ResponsiveContainer width="100%" height="100%">
          <LineChart
            data={quotes}
            margin={{ top: 20, right: 20, bottom: 20, left: 20 }}
          >
            <XAxis
              dataKey="date"
              tickLine={false}
              axisLine={false}
              tick={{ fontSize: 12 }}
              tickFormatter={formatXAxis}
              interval="preserveStartEnd"
            />
            <YAxis
              domain={["auto", "auto"]}
              tickLine={false}
              axisLine={false}
              tick={{ fontSize: 12 }}
              tickMargin={10}
            />
            <Tooltip content={<CustomTooltip />} />
            <Line
              type="monotone"
              dataKey="close"
              stroke="#2563eb"
              strokeWidth={2}
              dot={false}
              activeDot={{ r: 4, fill: "#2563eb" }}
            />
          </LineChart>
        </ResponsiveContainer>
      </div>
    </div>
  );
}